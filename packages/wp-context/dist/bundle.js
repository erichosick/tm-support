(()=>{var e={602:function(e){e.exports=function(){"use strict";function e(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)e[o]=r[o]}return e}return function t(r,o){function n(t,n,a){if("undefined"!=typeof document){"number"==typeof(a=e({},o,a)).expires&&(a.expires=new Date(Date.now()+864e5*a.expires)),a.expires&&(a.expires=a.expires.toUTCString()),t=encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var i="";for(var s in a)a[s]&&(i+="; "+s,!0!==a[s]&&(i+="="+a[s].split(";")[0]));return document.cookie=t+"="+r.write(n,t)+i}}return Object.create({set:n,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var t=document.cookie?document.cookie.split("; "):[],o={},n=0;n<t.length;n++){var a=t[n].split("="),i=a.slice(1).join("=");try{var s=decodeURIComponent(a[0]);if(o[s]=r.read(i,s),e===s)break}catch(e){}}return e?o[e]:o}},remove:function(t,r){n(t,"",e({},r,{expires:-1}))},withAttributes:function(r){return t(this.converter,e({},this.attributes,r))},withConverter:function(r){return t(e({},this.converter,r),this.attributes)}},{attributes:{value:Object.freeze(o)},converter:{value:Object.freeze(r)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"})}()},181:function(e,t){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},r.apply(this,arguments)},o=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var o,n,a=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(o=a.next()).done;)i.push(o.value)}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return i},n=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var o,n=0,a=t.length;n<a;n++)!o&&n in t||(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){if("object"==typeof e&&null!==e){if("function"==typeof Object.getPrototypeOf){var t=Object.getPrototypeOf(e);return t===Object.prototype||null===t}return"[object Object]"===Object.prototype.toString.call(e)}return!1},i=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.reduce((function(e,t){if(Array.isArray(t))throw new TypeError("Arguments provided to ts-deepmerge must be objects, not arrays.");return Object.keys(t).forEach((function(r){["__proto__","constructor","prototype"].includes(r)||(Array.isArray(e[r])&&Array.isArray(t[r])?e[r]=i.options.mergeArrays?Array.from(new Set(e[r].concat(t[r]))):t[r]:a(e[r])&&a(t[r])?e[r]=i(e[r],t[r]):e[r]=t[r])})),e}),{})},s={mergeArrays:!0};i.options=s,i.withOptions=function(e){for(var t=[],a=1;a<arguments.length;a++)t[a-1]=arguments[a];i.options=r({mergeArrays:!0},e);var u=i.apply(void 0,n([],o(t),!1));return i.options=s,u},t.default=i},492:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFromObject=t.insertIntoObject=void 0,t.insertIntoObject=(e,t)=>{const r=Array.isArray(t)?t:[t],o=[];for(const t of r){if(""===t.path)throw Error("Path can not be empty.");const r=t.path.split(".");let n=e;for(let e=0;e<r.length-1;e+=1){const t=r[e];o.push(t),t in n||(n[t]={}),n=n[t]}if("object"!=typeof n)throw TypeError(`Unable to add a value to path '${t.path}' because the value at '${o.join(".")}' is a primitive when an object was expected.`);n[r[r.length-1]]=t.value}return e},t.getFromObject=(e,t)=>{const r=t.split(".");let o=e;const n=[];for(let e=0;e<r.length-1;e+=1){const t=r[e];if(!o[t])throw Error(`Unable to resolve path. Object did not have a property '${t}' at path '${n.join(".")}'.`);o=o[t],n.push(t)}const a=r[r.length-1];if("object"!=typeof o)throw TypeError(`Unable to get a value from path '${t}' because the value at '${n.join(".")}' is a primitive when an object was expected.`);if(!Object.prototype.hasOwnProperty.call(o,a))throw Error(`Unable to get a value from path '${t}' because the object at '${n.join(".")}' did not have property ${a}.`);return o[a]}},557:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tmContextConfigDefault=void 0,t.tmContextConfigDefault=[{mapTo:"utm.source",source:{type:"param",name:"utm_source"}},{mapTo:"utm.medium",source:{type:"param",name:"utm_medium"}},{mapTo:"utm.campaign",source:{type:"param",name:"utm_campaign"}},{mapTo:"utm.term",source:{type:"param",name:"utm_term"}},{mapTo:"utm.utm_content",source:{type:"param",name:"utm_content"}},{mapTo:"utm.id",source:{type:"param",name:"utm_id"}},{mapTo:"ad.adset_id",source:{type:"param",name:"adset_id"}},{mapTo:"ad.ad_id",source:{type:"param",name:"ad_id"}},{mapTo:"document.referrer",source:{type:"referrer",name:"referrer"}},{mapTo:"document.origin",source:{type:"location",name:"origin"}},{mapTo:"document.search",source:{type:"location",name:"search"}},{mapTo:"event.event_id",source:{type:"uuid",name:"uuid"}}]},699:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},920:function(e,t,r){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),r(699);const n=o(r(446)),a=o(r(579)),i=o(r(305)),s=r(416),u=r(557),c=r(880),l={uuidGenerate:n.default,wpContextApply:i.default,wpContextBuild:a.default,wpSessionInit:s.wpSessionInit,wpSessionGet:s.wpSessionGet,wpSessionSet:s.wpSessionSet,defaults:{tmContextConfigDefault:u.tmContextConfigDefault},html:{getElementFromElements:c.getElementFromElements,getElement:c.getElement,getFormElement:c.getFormElement}};window.tm=l,t.default=l},173:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WP_CONTEXT_SESSION_KEY=void 0,t.WP_CONTEXT_SESSION_KEY="7f6b9c4c-4430-45b4-8696-be90fa8e147e"},446:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=()=>crypto.randomUUID()},305:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.wpSetFormInput=void 0;const o=r(880),n=r(492);t.wpSetFormInput=(e,t,r)=>{const o=e.getElementsByTagName(t.destination.elementType);let n,a;const i=t.destination.attributeValue.toLowerCase();for(const e of o){switch(t.destination.attributeName){case"id":e.id.toLowerCase()===i&&(n=e);break;case"name":e instanceof HTMLFormElement&&e.name.toLowerCase()===i&&(n=e);break;default:a=e.getAttribute(t.destination.attributeName),a&&a.toLowerCase()===i&&(n=e)}if(n)break}if(void 0===n)throw Error(`Error: Unable to find the form element named ${t.destination.attributeValue} on form using attribute ${t.destination.attributeName}`);n.setAttribute("value",r)};const a=(e,r)=>{const a=(0,o.getFormElement)(r.form),i=Array.isArray(r.formInput)?r.formInput:[r.formInput];for(const r of i){const o=(0,n.getFromObject)(e,r.pullFrom);(0,t.wpSetFormInput)(a,r,o)}};t.default=(e,t)=>{const r=Array.isArray(t)?t:[t];for(const t of r)Object.prototype.hasOwnProperty.call(t,"form")&&a(e,t)}},579:function(e,t,r){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=o(r(602)),a=r(492),i=o(r(446)),s=e=>{let t;const r=window.location;switch(e.type){case"cookie":t=n.default.get(e.name);break;case"url":t=window.location.href;break;case"param":t=new URLSearchParams(window.location.search).get(e.name);break;case"referrer":t=document.referrer;break;case"local_storage":t=localStorage.getItem(e.name);break;case"uuid":t=(0,i.default)();break;case"location":return r[e.name]}return null===t?void 0:t};t.default=e=>{const t=Array.isArray(e)?e:[e],r={};return t.forEach((e=>{let t=e.default;const o=Array.isArray(e.source)?e.source:[e.source];if(o){for(const e of o)if(t=s(e),void 0!==t)break;!0===e.required&&void 0===t&&console.error(`Context configuration mapping to ${e.mapTo} required a value but none was found. Set a default or set required to false.`)}t=void 0===t?e.default:t,(0,a.insertIntoObject)(r,{path:e.mapTo,value:t})})),r}},416:function(e,t,r){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.wpSessionSet=t.wpSessionGet=t.wpSessionInit=void 0;const n=r(173),a=o(r(181));t.wpSessionInit=()=>{sessionStorage.setItem(n.WP_CONTEXT_SESSION_KEY,JSON.stringify({}))},t.wpSessionGet=()=>{const e=sessionStorage.getItem(n.WP_CONTEXT_SESSION_KEY);return e?JSON.parse(e):{}},t.wpSessionSet=e=>{const r=(0,a.default)((0,t.wpSessionGet)(),e);return sessionStorage.setItem(n.WP_CONTEXT_SESSION_KEY,JSON.stringify(r)),r}},880:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFormElement=t.getElement=t.getElementFromElements=void 0,t.getElementFromElements=e=>{let t;switch(e.attributeName){case"name":t=document.getElementsByName(e.attributeValue);break;case"class":t=document.getElementsByClassName(e.attributeValue);break;case"tag":t=document.getElementsByTagName(e.elementType);break;default:throw Error(`Unsupported attribute name ${e.attributeName}`)}if(t.length>1)throw Error(`Error: More than one html element of tag type ${e.elementType} named ${e.attributeValue} was found while searching using ${e.attributeName}.`);if(0===t.length)throw Error(`Error: No html element of tag type ${e.elementType} named ${e.attributeValue} was found while searching using ${e.attributeName}.`);return t[0]},t.getElement=e=>{let r=null;switch(e.attributeName){case"id":r=document.getElementById(e.attributeValue);break;case"name":case"class":r=(0,t.getElementFromElements)(e);break;default:r=document.getElementById(e.attributeValue),null===r&&(r=(0,t.getElementFromElements)(e))}if(null===r){const t=e.attributeName?e.attributeName:"id or name";throw Error(`Error: Html element '${e.attributeValue}' not found using '${t}'.`)}if(r.nodeName.toLowerCase()!==e.elementType.toLowerCase())throw Error(`Error: Expected an html ${e.elementType} element named ${e.attributeName} but found an html element of type ${r.nodeName}.`);return r},t.getFormElement=e=>{const r=e||{attributeName:"tag"};r.elementType="form";const o=(0,t.getElement)(r);if(o instanceof HTMLFormElement)return o;throw Error(`Error: Expected an html ${r.elementType} element named ${r.attributeName} but found an html element of type ${o.nodeName}.`)}}},t={};!function r(o){var n=t[o];if(void 0!==n)return n.exports;var a=t[o]={exports:{}};return e[o].call(a.exports,a,a.exports,r),a.exports}(920)})();